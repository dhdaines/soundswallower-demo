(()=>{var t={179:(t,n,e)=>{"use strict";e.r(n)},985:(t,n,e)=>{"use strict";e.r(n)},925:t=>{t.exports=__dirname},890:(t,n,e)=>{var r,i=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(r=r||__filename),function(t){var n,i;(t=void 0!==(t=t||{})?t:{}).ready=new Promise((function(t,e){n=t,i=e}));const a="object"==typeof window||"function"==typeof importScripts;void 0===t.defaultModel&&(t.defaultModel="en-us"),void 0===t.modelBase&&(t.modelBase="/model/");class s{constructor(n){if(this.cmd_ln=t._cmd_ln_parse_r(0,t._ps_args(),0,0,0),void 0===n){if(null===t.defaultModel)return;n={hmm:t.get_model_path(t.defaultModel)}}else null!==t.defaultModel&&("hmm"in n||(n.hmm=t.get_model_path(t.defaultModel)));for(const t in n)this.set(t,n[t])}delete(){this.cmd_ln&&t._cmd_ln_free_r(this.cmd_ln),this.cmd_ln=0}normalize_key(t){if(t.length>0){if("_"==t[0])return t;if("-"==t[0]){const n="_"+t.substr(1);return this.has(n)?n:t}{const n="_"+t;if(this.has(n))return n;const e="-"+t;return this.has(e)?e:t}}return""}normalize_ckey(t){const n=H(t);return 0==n.length?n:"-"==n[0]||"_"==n[0]?n.substr(1):n}set(n,e){const r=D(this.normalize_key(n)),i=t._cmd_ln_type_r(this.cmd_ln,r);if(0==i)throw new ReferenceError("Unknown cmd_ln parameter "+n);if(8&i){const n=D(e);t._cmd_ln_set_str_r(this.cmd_ln,r,n)}else if(4&i)t._cmd_ln_set_float_r(this.cmd_ln,r,e);else{if(!(18&i))return!1;t._cmd_ln_set_int_r(this.cmd_ln,r,e)}return!0}get(n){const e=D(this.normalize_key(n)),r=t._cmd_ln_type_r(this.cmd_ln,e);if(0==r)throw new ReferenceError("Unknown cmd_ln parameter "+n);if(8&r){const n=t._cmd_ln_str_r(this.cmd_ln,e);return 0==n?null:H(n)}if(4&r)return t._cmd_ln_float_r(this.cmd_ln,e);if(2&r)return t._cmd_ln_int_r(this.cmd_ln,e);if(16&r)return Boolean(t._cmd_ln_int_r(this.cmd_ln,e));throw new TypeError("Unsupported type "+r+" for parameter"+n)}model_file_path(t,n){const e=this.get(t);if(null!=e)return e;const r=this.get("hmm");if(null==r)throw new Error("Could not get "+t+" from config or model directory");return r+"/"+n}has(n){const e=D(n);return t._cmd_ln_exists_r(this.cmd_ln,e)}*[Symbol.iterator](){let n=t._cmd_ln_hash_iter(this.cmd_ln);const e=new Set;for(;0!=n;){const r=t._hash_iter_key(n),i=this.normalize_ckey(r);e.has(i)||(e.add(i),n=t._hash_table_iter_next(n),yield i)}}}async function o(n){let r;if(a){const t=await fetch(n);if(!t.ok)throw new Error("Failed to fetch "+n+" :"+t.statusText);{const n=await t.blob(),e=await n.arrayBuffer();r=new Uint8Array(e)}}else{const t=e(299),i=await t.readFile(n);r=new Uint8Array(i.buffer)}const i=r.length+1,s=t._malloc(i);if(0==s)throw new Error("Failed to allocate "+i+" bytes for "+n);return L(r,s),k[s+i]=0,t._s3file_init(s,i-1)}t.get_model_path=function(n){if(a)return t.modelBase+n;{const t=e(925);return e(395).join(t,n)}},t.Config=s,t.Decoder=class{constructor(n){if(this.config=n&&"object"==typeof n&&"cmd_ln"in n?n:new t.Config(...arguments),this.initialized=!1,this.ps=t._ps_init(0),0==this.ps)throw new Error("Failed to construct Decoder")}async initialize(n){if(0==this.ps)throw new Error("Decoder was somehow not constructed (ps==0)");void 0!==n&&(this.config&&this.config.delete(),this.config="object"==typeof n&&"cmd_ln"in n?n:new t.Config(...arguments)),await this.init_config(),await this.init_fe(),await this.init_feat(),await this.init_acmod(),await this.load_acmod_files(),await this.init_dict(),await this.init_grammar(),this.initialized=!0}async init_config(){await this.init_featparams();let n=t._ps_init_config(this.ps,this.config.cmd_ln);if(n<0)throw new Error("Failed to initialize basic configuration");if(n=t._ps_init_cleanup(this.ps),n<0)throw new Error("Failed to clean up decoder internals")}async init_featparams(){const t=this.config.model_file_path("featparams","feat.params");for await(const n of async function*(t){let n;if(a){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch "+t+" :"+e.statusText);n=await e.text()}else{const r=e(299);n=await r.readFile(t,{encoding:"utf8"})}const r=/^.*$/gm,i=/"([^"]*)"|'([^'])'|(\S+)/g;let s=null;for(const t of n.matchAll(r)){const n=t[0].trim();for(const t of n.matchAll(i)){const n=t[1]??t[2]??t[3];if("#"==n)break;null!==s?(yield[s,n],s=null):s=n}}if(null!==s)throw new Error("Odd number of arguments in "+t)}(t))this.config.has(n[0])&&this.config.set(n[0],n[1])}async init_fe(){if(0==t._ps_init_fe(this.ps))throw new Error("Failed to initialize frontend")}async init_feat(){let n;try{const e=this.config.model_file_path("lda","feature_transform"),r=await o(e);n=t._ps_init_feat_s3file(this.ps,r)}catch(e){n=t._ps_init_feat_s3file(this.ps,0)}if(0==n)throw new Error("Failed to initialize feature module")}async init_acmod(){if(0==t._ps_init_acmod_pre(this.ps))throw new Error("Failed to initialize acoustic model")}async load_acmod_files(){const n=this.config.model_file_path("mdef","mdef.bin");await this.load_mdef(n);const e=this.config.model_file_path("tmat","transition_matrices");await this.load_tmat(e);const r=this.config.model_file_path("mean","means"),i=this.config.model_file_path("var","variances"),a=this.config.model_file_path("sendump","sendump"),s=this.config.model_file_path("mixw","mixture_weights");if(await this.load_gmm(r,i,a,s),t._ps_init_acmod_post(this.ps)<0)throw new Error("Failed to initialize acoustic scoring")}async load_mdef(n){const e=await o(n),r=t._bin_mdef_read_s3file(e);if(t._s3file_free(e),0==r)throw new Error("Failed to read mdef");t._set_mdef(this.ps,r)}async load_tmat(n){const e=await o(n),r=t._ps_get_logmath(this.ps),i=this.config.get("tmatfloor"),a=t._tmat_init_s3file(e,r,i);if(t._s3file_free(e),0==a)throw new Error("Failed to read tmat");t._set_tmat(this.ps,a)}async load_gmm(n,e,r,i){const a=await o(n),s=await o(e);var _,l;try{_=await o(r),l=0}catch(t){_=0,l=await o(i)}if(t._load_gmm(this.ps,a,s,l,_)<0)throw new Error("Failed to load GMM parameters")}async init_dict(){const n=this.config.model_file_path("dict","dict.txt"),e=await o(n);let r;try{const t=this.config.model_file_path("fdict","noisedict");r=await o(t)}catch(t){r=0}if(0==t._ps_init_dict_s3file(this.ps,e,r))throw new Error("Failed to initialize dictionaries")}async init_grammar(){let n=0,e=0;const r=this.config.get("jsgf");null!=r&&(e=await o(r));const i=this.config.get("fsg");if(null!=i&&(n=await o(i)),(n||e)&&t._ps_init_grammar_s3file(this.ps,n,e)<0)throw new Error("Failed to initialize grammar")}assert_initialized(){if(!this.initialized)throw new Error("Decoder not yet initialized")}async reinitialize_audio(){this.assert_initialized(),t._ps_reinit_fe(this.ps,0)}delete(){this.config&&this.config.delete(),this.ps&&t._ps_free(this.ps),this.ps=0}async start(){if(this.assert_initialized(),t._ps_start_utt(this.ps)<0)throw new Error("Failed to start utterance processing")}async stop(){if(this.assert_initialized(),t._ps_end_utt(this.ps)<0)throw new Error("Failed to stop utterance processing")}async process(n,e=!1,r=!1){this.assert_initialized();const i=n.length*n.BYTES_PER_ELEMENT,a=t._malloc(i);L(new Uint8Array(n.buffer),a);const s=t._ps_process_float32(this.ps,a,i/4,e,r);if(t._free(a),s<0)throw new Error("Utterance processing failed");return s}get_hyp(){return this.assert_initialized(),H(t._ps_get_hyp(this.ps,0))}get_hypseg(){this.assert_initialized();let n=t._ps_seg_iter(this.ps);const e=t._ps_get_config(this.ps),r=t._cmd_ln_int_r(e,D("-frate")),i=[];for(;0!=n;){const e=pt(8);t._ps_seg_frames(n,e,e+4);const a=S(e,"i32"),s=S(e+4,"i32"),o={word:R("ps_seg_word","string",["number"],[n]),start:a/r,end:s/r};i.push(o),n=t._ps_seg_next(n)}return i}lookup_word(n){this.assert_initialized();const e=D(n),r=t._ps_lookup_word(this.ps,e);return 0==r?null:H(r)}async add_word(n,e,r=!0){this.assert_initialized();const i=D(n),a=D(e),s=t._ps_add_word(this.ps,i,a,r);if(s<0)throw new Error("Failed to add word "+n+" with pronunciation "+e+" to the dictionary.");return s}create_fsg(n,e,r,i){this.assert_initialized();const a=t._ps_get_logmath(this.ps),s=t._ps_get_config(this.ps),o=t._cmd_ln_float_r(s,D("-lw"));let _=0;for(const t of i)_=Math.max(_,t.from,t.to);_++;const l=R("fsg_model_init","number",["string","number","number","number"],[n,a,o,_]);t._fsg_set_states(l,e,r);for(const n of i){let e=0;if("prob"in n&&(e=t._logmath_log(a,n.prob)),"word"in n){const r=R("fsg_model_word_add","number",["number","string"],[l,n.word]);if(-1==r)return t._fsg_model_free(l),0;t._fsg_model_trans_add(l,n.from,n.to,e,r)}else t._fsg_model_null_trans_add(l,n.from,n.to,e)}return{fsg:l,delete(){t._fsg_model_free(this.fsg),this.fsg=0}}}parse_jsgf(n,e=null){this.assert_initialized();const r=t._ps_get_logmath(this.ps),i=t._ps_get_config(this.ps),a=t._cmd_ln_float_r(i,D("-lw")),s=D(n),o=t._jsgf_parse_string(s,0);if(0==o)throw new Error("Failed to parse JSGF");let _;if(null!==e){const n=D(e);if(_=t._jsgf_get_rule(o,n),0==_)throw new Error("Failed to find top rule "+e)}else if(_=t._jsgf_get_public_rule(o),0==_)throw new Error("No public rules found in JSGF");const l=t._jsgf_build_fsg(o,_,r,a);return t._jsgf_grammar_free(o),{fsg:l,delete(){t._fsg_model_free(this.fsg),this.fsg=0}}}async set_fsg(n){if(this.assert_initialized(),0!=t._ps_set_fsg(this.ps,"_default",n.fsg))throw new Error("Failed to set FSG in decoder")}};var _,l,u,c,f,p,d=Object.assign({},t),m=[],g="./this.program",h=(t,n)=>{throw n},w="object"==typeof window,y="function"==typeof importScripts,b="";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node?(b=y?e(395).dirname(b)+"/":__dirname+"/",p=()=>{f||(c=e(762),f=e(395))},_=function(t,n){return p(),t=f.normalize(t),c.readFileSync(t,n?void 0:"utf8")},u=t=>{var n=_(t,!0);return n.buffer||(n=new Uint8Array(n)),n},l=(t,n,e)=>{p(),t=f.normalize(t),c.readFile(t,(function(t,r){t?e(t):n(r.buffer)}))},process.argv.length>1&&(g=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof dt))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,n)=>{if(J())throw process.exitCode=t,n;var e;(e=n)instanceof dt||x("exiting due to exception: "+e),process.exit(t)},t.inspect=function(){return"[Emscripten Module object]"}):(w||y)&&(y?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),r&&(b=r),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},y&&(u=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),l=(t,n,e)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?n(r.response):e()},r.onerror=e,r.send(null)});var v,E=t.print||console.log.bind(console),x=t.printErr||console.warn.bind(console);Object.assign(t,d),d=null,t.arguments&&(m=t.arguments),t.thisProgram&&(g=t.thisProgram),t.quit&&(h=t.quit),t.wasmBinary&&(v=t.wasmBinary);var A,z=t.noExitRuntime||!0;function S(t,n="i8",e){switch("*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return k[t>>0];case"i16":return I[t>>1];case"i32":case"i64":return M[t>>2];case"float":return C[t>>2];case"double":return Number(U[t>>3]);default:Z("invalid type for getValue: "+n)}return null}"object"!=typeof WebAssembly&&Z("no native wasm support detected");var F=!1;function R(n,e,r,i,a){var s={string:function(t){var n=0;if(null!=t&&0!==t){var e=1+(t.length<<2);!function(t,n,e){W(t,T,n,e)}(t,n=pt(e),e)}return n},array:function(t){var n=pt(t.length);return L(t,n),n}},o=function(n){return t["_"+n]}(n),_=[],l=0;if(i)for(var u=0;u<i.length;u++){var c=s[r[u]];c?(0===l&&(l=ct()),_[u]=c(i[u])):_[u]=i[u]}var f=o.apply(null,_);return function(t){return 0!==l&&ft(l),function(t){return"string"===e?H(t):"boolean"===e?Boolean(t):t}(t)}(f)}var j,k,T,I,M,C,U,B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,n,e){for(var r=n+e,i=n;t[i]&&!(i>=r);)++i;if(i-n>16&&t.buffer&&B)return B.decode(t.subarray(n,i));for(var a="";n<i;){var s=t[n++];if(128&s){var o=63&t[n++];if(192!=(224&s)){var _=63&t[n++];if((s=224==(240&s)?(15&s)<<12|o<<6|_:(7&s)<<18|o<<12|_<<6|63&t[n++])<65536)a+=String.fromCharCode(s);else{var l=s-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function H(t,n){return t?P(T,t,n):""}function W(t,n,e,r){if(!(r>0))return 0;for(var i=e,a=e+r-1,s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++s)),o<=127){if(e>=a)break;n[e++]=o}else if(o<=2047){if(e+1>=a)break;n[e++]=192|o>>6,n[e++]=128|63&o}else if(o<=65535){if(e+2>=a)break;n[e++]=224|o>>12,n[e++]=128|o>>6&63,n[e++]=128|63&o}else{if(e+3>=a)break;n[e++]=240|o>>18,n[e++]=128|o>>12&63,n[e++]=128|o>>6&63,n[e++]=128|63&o}}return n[e]=0,e-i}function D(t){var n=function(t){for(var n=0,e=0;e<t.length;++e){var r=t.charCodeAt(e);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++e)),r<=127?++n:n+=r<=2047?2:r<=65535?3:4}return n}(t)+1,e=pt(n);return W(t,k,e,n),e}function L(t,n){k.set(t,n)}function O(n){j=n,t.HEAP8=k=new Int8Array(n),t.HEAP16=I=new Int16Array(n),t.HEAP32=M=new Int32Array(n),t.HEAPU8=T=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=new Uint32Array(n),t.HEAPF32=C=new Float32Array(n),t.HEAPF64=U=new Float64Array(n)}t.INITIAL_MEMORY;var N,G=[],q=[],$=[];function J(){return z}var X,V,Y=0,K=null,Q=null;function Z(n){t.onAbort&&t.onAbort(n),x(n="Aborted("+n+")"),F=!0,n+=". Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(n);throw i(e),e}function tt(t){return t.startsWith("data:application/octet-stream;base64,")}function nt(t){return t.startsWith("file://")}function et(t){try{if(t==X&&v)return new Uint8Array(v);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){Z(t)}}function rt(n){for(;n.length>0;){var e=n.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?it(r)():it(r)(e.arg):r(void 0===e.arg?null:e.arg)}else e(t)}}function it(t){return N.get(t)}t.preloadedImages={},t.preloadedAudios={},tt(X="soundswallower.wasm")||(V=X,X=t.locateFile?t.locateFile(V,b):b+V);var at={buffers:[null,[],[]],printChar:function(t,n){var e=at.buffers[t];0===n||10===n?((1===t?E:x)(P(e,0)),e.length=0):e.push(n)},varargs:void 0,get:function(){return at.varargs+=4,M[at.varargs-4>>2]},getStr:function(t){return H(t)},get64:function(t,n){return t}};function st(t){try{return A.grow(t-j.byteLength+65535>>>16),O(A.buffer),1}catch(t){}}var ot={};function _t(){if(!_t.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(var n in ot)void 0===ot[n]?delete t[n]:t[n]=ot[n];var e=[];for(var n in t)e.push(n+"="+t[n]);_t.strings=e}return _t.strings}var lt,ut={d:function(t,n,e){return at.varargs=e,0},f:function(t,n){},h:function(t,n,e){return at.varargs=e,0},r:function(t,n,e,r){},e:function(t,n,e,r){at.varargs=r},s:function(t,n){},i:function(){return Date.now()},k:function(){throw 1/0},n:function(t,n,e,r,i,a,s,o){return-52},o:function(t,n,e,r,i,a){},t:function(){Z("")},m:function(){return 2147483648},l:function(t){var n,e=T.length,r=2147483648;if((t>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var a=e*(1+.2/i);if(a=Math.min(a,t+100663296),st(Math.min(r,(n=Math.max(t,a))+(65536-n%65536)%65536)))return!0}return!1},p:function(t,n){var e=0;return _t().forEach((function(r,i){var a=n+e;M[t+4*i>>2]=a,function(t,n,e){for(var r=0;r<t.length;++r)k[n++>>0]=t.charCodeAt(r);k[n>>0]=0}(r,a),e+=r.length+1})),0},q:function(t,n){var e=_t();M[t>>2]=e.length;var r=0;return e.forEach((function(t){r+=t.length+1})),M[n>>2]=r,0},a:function(n){!function(n,e){var r;r=n,J()||(t.onExit&&t.onExit(r),F=!0),h(r,new dt(r))}(n)},b:function(t){return 0},g:function(t,n,e,r){var i=at.getStreamFromFD(t),a=at.doReadv(i,n,e);return M[r>>2]=a,0},j:function(t,n,e,r,i){},c:function(t,n,e,r){for(var i=0,a=0;a<e;a++){var s=M[n>>2],o=M[n+4>>2];n+=8;for(var _=0;_<o;_++)at.printChar(t,T[s+_]);i+=o}return M[r>>2]=i,0}},ct=(function(){var n={a:ut};function e(n,e){var r,i=n.exports;t.asm=i,O((A=t.asm.u).buffer),N=t.asm.F,r=t.asm.v,q.unshift(r),function(n){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),0==Y&&(null!==K&&(clearInterval(K),K=null),Q)){var e=Q;Q=null,e()}}()}function r(t){e(t.instance)}function a(t){return function(){if(!v&&(w||y)){if("function"==typeof fetch&&!nt(X))return fetch(X,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+X+"'";return t.arrayBuffer()})).catch((function(){return et(X)}));if(l)return new Promise((function(t,n){l(X,(function(n){t(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return et(X)}))}().then((function(t){return WebAssembly.instantiate(t,n)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),Z(t)}))}if(Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y),t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||tt(X)||nt(X)||"function"!=typeof fetch?a(r):fetch(X,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,n).then(r,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),a(r)}))}))).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.v).apply(null,arguments)},t._fsg_set_states=function(){return(t._fsg_set_states=t.asm.w).apply(null,arguments)},t._cmd_ln_hash_iter=function(){return(t._cmd_ln_hash_iter=t.asm.x).apply(null,arguments)},t._hash_iter_key=function(){return(t._hash_iter_key=t.asm.y).apply(null,arguments)},t._set_mdef=function(){return(t._set_mdef=t.asm.z).apply(null,arguments)},t._set_tmat=function(){return(t._set_tmat=t.asm.A).apply(null,arguments)},t._load_gmm=function(){return(t._load_gmm=t.asm.B).apply(null,arguments)},t._ptm_mgau_init_s3file=function(){return(t._ptm_mgau_init_s3file=t.asm.C).apply(null,arguments)},t._s2_semi_mgau_init_s3file=function(){return(t._s2_semi_mgau_init_s3file=t.asm.D).apply(null,arguments)},t._ms_mgau_init_s3file=function(){return(t._ms_mgau_init_s3file=t.asm.E).apply(null,arguments)},t._cmd_ln_str_r=function(){return(t._cmd_ln_str_r=t.asm.G).apply(null,arguments)},t._cmd_ln_float_r=function(){return(t._cmd_ln_float_r=t.asm.H).apply(null,arguments)},t._cmd_ln_int_r=function(){return(t._cmd_ln_int_r=t.asm.I).apply(null,arguments)},t._cmd_ln_retain=function(){return(t._cmd_ln_retain=t.asm.J).apply(null,arguments)},t._logmath_retain=function(){return(t._logmath_retain=t.asm.K).apply(null,arguments)},t._cmd_ln_free_r=function(){return(t._cmd_ln_free_r=t.asm.L).apply(null,arguments)},t._logmath_free=function(){return(t._logmath_free=t.asm.M).apply(null,arguments)},t._s3file_free=function(){return(t._s3file_free=t.asm.N).apply(null,arguments)},t._bin_mdef_read_s3file=function(){return(t._bin_mdef_read_s3file=t.asm.O).apply(null,arguments)},t._malloc=function(){return(t._malloc=t.asm.P).apply(null,arguments)},t._free=function(){return(t._free=t.asm.Q).apply(null,arguments)},t._cmd_ln_parse_r=function(){return(t._cmd_ln_parse_r=t.asm.R).apply(null,arguments)},t._cmd_ln_init=function(){return(t._cmd_ln_init=t.asm.S).apply(null,arguments)},t._cmd_ln_exists_r=function(){return(t._cmd_ln_exists_r=t.asm.T).apply(null,arguments)},t._cmd_ln_type_r=function(){return(t._cmd_ln_type_r=t.asm.U).apply(null,arguments)},t._cmd_ln_set_str_r=function(){return(t._cmd_ln_set_str_r=t.asm.V).apply(null,arguments)},t._cmd_ln_set_int_r=function(){return(t._cmd_ln_set_int_r=t.asm.W).apply(null,arguments)},t._cmd_ln_set_float_r=function(){return(t._cmd_ln_set_float_r=t.asm.X).apply(null,arguments)},t._fsg_model_trans_add=function(){return(t._fsg_model_trans_add=t.asm.Y).apply(null,arguments)},t._fsg_model_tag_trans_add=function(){return(t._fsg_model_tag_trans_add=t.asm.Z).apply(null,arguments)},t._fsg_model_null_trans_add=function(){return(t._fsg_model_null_trans_add=t.asm._).apply(null,arguments)},t._hash_table_iter_next=function(){return(t._hash_table_iter_next=t.asm.$).apply(null,arguments)},t._fsg_model_word_id=function(){return(t._fsg_model_word_id=t.asm.aa).apply(null,arguments)},t._fsg_model_word_add=function(){return(t._fsg_model_word_add=t.asm.ba).apply(null,arguments)},t._logmath_log=function(){return(t._logmath_log=t.asm.ca).apply(null,arguments)},t._fsg_model_init=function(){return(t._fsg_model_init=t.asm.da).apply(null,arguments)},t._fsg_model_free=function(){return(t._fsg_model_free=t.asm.ea).apply(null,arguments)},t._fsg_model_retain=function(){return(t._fsg_model_retain=t.asm.fa).apply(null,arguments)},t._logmath_exp=function(){return(t._logmath_exp=t.asm.ga).apply(null,arguments)},t._jsgf_grammar_free=function(){return(t._jsgf_grammar_free=t.asm.ha).apply(null,arguments)},t._jsgf_get_rule=function(){return(t._jsgf_get_rule=t.asm.ia).apply(null,arguments)},t._jsgf_get_public_rule=function(){return(t._jsgf_get_public_rule=t.asm.ja).apply(null,arguments)},t._jsgf_build_fsg=function(){return(t._jsgf_build_fsg=t.asm.ka).apply(null,arguments)},t._jsgf_parse_string=function(){return(t._jsgf_parse_string=t.asm.la).apply(null,arguments)},t._logmath_init=function(){return(t._logmath_init=t.asm.ma).apply(null,arguments)},t._ps_init_config=function(){return(t._ps_init_config=t.asm.na).apply(null,arguments)},t._ps_args=function(){return(t._ps_args=t.asm.oa).apply(null,arguments)},t._ps_init_cleanup=function(){return(t._ps_init_cleanup=t.asm.pa).apply(null,arguments)},t._ps_init_fe=function(){return(t._ps_init_fe=t.asm.qa).apply(null,arguments)},t._ps_init_feat_s3file=function(){return(t._ps_init_feat_s3file=t.asm.ra).apply(null,arguments)},t._ps_init_acmod_pre=function(){return(t._ps_init_acmod_pre=t.asm.sa).apply(null,arguments)},t._ps_init_acmod_post=function(){return(t._ps_init_acmod_post=t.asm.ta).apply(null,arguments)},t._ps_init_dict_s3file=function(){return(t._ps_init_dict_s3file=t.asm.ua).apply(null,arguments)},t._ps_set_fsg=function(){return(t._ps_set_fsg=t.asm.va).apply(null,arguments)},t._ps_init_grammar_s3file=function(){return(t._ps_init_grammar_s3file=t.asm.wa).apply(null,arguments)},t._ps_set_jsgf_string=function(){return(t._ps_set_jsgf_string=t.asm.xa).apply(null,arguments)},t._ps_reinit_fe=function(){return(t._ps_reinit_fe=t.asm.ya).apply(null,arguments)},t._ps_reinit=function(){return(t._ps_reinit=t.asm.za).apply(null,arguments)},t._ps_init=function(){return(t._ps_init=t.asm.Aa).apply(null,arguments)},t._ps_free=function(){return(t._ps_free=t.asm.Ba).apply(null,arguments)},t._ps_retain=function(){return(t._ps_retain=t.asm.Ca).apply(null,arguments)},t._ps_get_config=function(){return(t._ps_get_config=t.asm.Da).apply(null,arguments)},t._ps_get_logmath=function(){return(t._ps_get_logmath=t.asm.Ea).apply(null,arguments)},t._ps_add_word=function(){return(t._ps_add_word=t.asm.Fa).apply(null,arguments)},t._ps_lookup_word=function(){return(t._ps_lookup_word=t.asm.Ga).apply(null,arguments)},t._ps_start_utt=function(){return(t._ps_start_utt=t.asm.Ha).apply(null,arguments)},t._ps_process_float32=function(){return(t._ps_process_float32=t.asm.Ia).apply(null,arguments)},t._ps_end_utt=function(){return(t._ps_end_utt=t.asm.Ja).apply(null,arguments)},t._ps_get_hyp=function(){return(t._ps_get_hyp=t.asm.Ka).apply(null,arguments)},t._ps_seg_iter=function(){return(t._ps_seg_iter=t.asm.La).apply(null,arguments)},t._ps_seg_word=function(){return(t._ps_seg_word=t.asm.Ma).apply(null,arguments)},t._ps_seg_frames=function(){return(t._ps_seg_frames=t.asm.Na).apply(null,arguments)},t._ps_seg_prob=function(){return(t._ps_seg_prob=t.asm.Oa).apply(null,arguments)},t._ps_seg_next=function(){return(t._ps_seg_next=t.asm.Pa).apply(null,arguments)},t._ps_get_prob=function(){return(t._ps_get_prob=t.asm.Qa).apply(null,arguments)},t._ps_seg_free=function(){return(t._ps_seg_free=t.asm.Ra).apply(null,arguments)},t._s3file_init=function(){return(t._s3file_init=t.asm.Sa).apply(null,arguments)},t._tmat_init_s3file=function(){return(t._tmat_init_s3file=t.asm.Ta).apply(null,arguments)},t.stackSave=function(){return(ct=t.stackSave=t.asm.Ua).apply(null,arguments)}),ft=t.stackRestore=function(){return(ft=t.stackRestore=t.asm.Va).apply(null,arguments)},pt=t.stackAlloc=function(){return(pt=t.stackAlloc=t.asm.Wa).apply(null,arguments)};function dt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function mt(e){function r(){lt||(lt=!0,t.calledRun=!0,F||(rt(q),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),$.unshift(n);var n;rt($)}()))}e=e||m,Y>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),G.unshift(n);var n;rt(G)}(),Y>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(Q=function t(){lt||mt(),lt||(Q=t)},t.run=mt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return mt(),t.ready});t.exports=i},478:(t,n,e)=>{"use strict";t.exports=e.p+"model/cities.dict"},348:(t,n,e)=>{"use strict";t.exports=e.p+"model/cities.gram"},696:(t,n,e)=>{"use strict";t.exports=e.p+"model/numbers.gram"},978:(t,n,e)=>{"use strict";t.exports=e.p+"model/pizza.gram"},738:(t,n,e)=>{"use strict";t.exports=e.p+"36c78cdefe17257e774a.js"},762:()=>{},299:()=>{},395:()=>{}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={exports:{}};return t[r](a,a.exports,e),a.exports}e.m=t,e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,(()=>{"use strict";e(179),e(985);var t,n,r,i,a,s,o={Pizza:e(978),Numbers:e(696),Cities:e(348)},_={Cities:e(478)},l=!1;function u(n){t&&(t.innerHTML=n)}function c(t){document.getElementById("current-status").innerHTML=t}function f(t){document.getElementById("recording-indicator").innerHTML=t?"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;":"",l=t}window.onload=async function(){r=await e(890)();const p=document.getElementById("startBtn"),d=document.getElementById("stopBtn");p.disabled=!0,d.disabled=!0;var m=document.getElementById("grammars");for(const t in o){var g=document.createElement("option");g.innerHTML=t,m.appendChild(g)}var h=document.getElementById("jsgf");async function w(t){let n=o[t],e=await fetch(n);if(e.ok){let t=await e.text();h.value=t}else c("Failed to fetch "+n+" :"+e.statusText)}await w(m.options[m.selectedIndex].innerText),t=document.getElementById("output"),c("Initializing web audio, waiting for approval to access the microphone");try{const t=window.AudioContext||window.webkitAudioContext;n=new t,await n.suspend();const r=await navigator.mediaDevices.getUserMedia({audio:!0});a=n.createMediaStreamSource(r);const i=new URL(e(738),e.b);await n.audioWorklet.addModule(i),s=new AudioWorkletNode(n,"soundswallower-processor"),a.connect(s).connect(n.destination),c("Audio recorder ready")}catch(t){c("Error initializing Web Audio browser: "+t.message)}c("Initializing speech recognizer");try{i=new r.Decoder({hmm:"model/en-us",loglevel:"INFO",samprate:n.sampleRate}),await i.initialize(),await async function(){for(const t of _){let n=await fetch(t);if(!n.ok)throw new Error("Failed to fetch "+t+" :"+n.statusText);{let t=await n.text(),e=/^(\S+)\s+(.*)$/gm;for(const n of t.trim().matchAll(e)){let e=n.index+n[0].length;if(-1==await i.add_word(n[1],n[2],e==t.length))throw new Error("Failed to add word "+n[1]+" with pronunciation "+n[2])}}}}()}catch(t){c("Error initializing speech recognizer: "+t.message)}async function y(){var t;l&&(t=!0,await i.stop(),f(!1));try{const t=i.parse_jsgf(h.value);await i.set_fsg(t),t.delete(),c("Updated grammar")}catch(t){c("Failed to set grammar: "+t.message)}if(t){try{await i.start()}catch(t){c("Error starting recognition: "+t.message)}f(!0)}}await y(),c("Speech recognizer ready"),m.addEventListener("change",(async function(){var t=this.options[this.selectedIndex].innerText;await w(t),await y()}));let b=null;h.addEventListener("input",(()=>{clearTimeout(b),b=setTimeout(y,1e3)})),s.port.onmessage=async function(t){if(!l)return!0;if("ERROR"==t.data)return c("AudioWorkletNode got disconnected somehow?!?!?!"),s=new AudioWorkletNode(n,"soundswallower-processor"),a.connect(s).connect(n.destination),!0;try{await i.process(t.data);let n=await i.get_hyp();void 0!==n&&u(n)}catch(t){c("Error processing data: "+t.message)}return!0},p.onclick=async function(){l&&await i.stop();try{await i.start()}catch(t){c("Error starting recognition: "+t.message)}return await n.resume(),f(!0),!0},d.onclick=async function(){if(await n.suspend(),l){try{await i.stop();const t=i.get_hyp();void 0!==t&&u(t),f(!1)}catch(t){c("Error stopping recognition: "+t.message)}return!0}},p.disabled=!1,d.disabled=!1}})()})();